<link rel="import" href="/bower_components/iron-selector/iron-multi-selectable.html">
<link rel="import" href="../ff-keyhandler/ff-keyhandler.html">

<dom-module id="ff-selector">
  <template>
    <style>
      :host ::content .iron-selected {
        position: relative;
      }
      :host ::content .iron-selected:before {
        background-image: url('cursor.png');
        content: ' ';
        height: 32px;
        left: -44px;
        position: absolute;
        top: 4px;
        width: 32px;
      }
    </style>

    <content></content>

    <ff-keyhandler id="keyHandler"
      on-ff-go="_go"
      on-ff-up="selectPrevious"
      on-ff-down="selectNext"></ff-keyhandler>

  </template>
  <script>
    Polymer({
      is: 'ff-selector',
      behaviors: [
        Polymer.IronMultiSelectableBehavior
      ],

      activate: function() {
        this.$.keyHandler.activate();
      },

      deactivate: function() {
        this.$.keyHandler.deactivate();
      },

      _go: function() {
        this.fire('ff-selected', {
          value: this.selected
        });
      }

    });
  </script>
</dom-module>