<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/iron-selector/iron-selector.html">
<link rel="import" href="/redux-mixin.html">

<link rel="import" href="../ff-intro/ff-intro.html">
<link rel="import" href="ff-app-css.html">

<dom-module id="ff-app">
  <template>
    <style include="ff-app-css"></style>

    <iron-selector
      id="screens"
      selected="[[ screen ]]"
      attr-for-selected="screen"
      selected-attribute="current-screen">

      <ff-intro
        screen="intro"></ff-intro>
      <div
        screen="openingMenu">OPENING MENU</div>
    </iron-selector>
<!--
    <div id="screens">
      <ff-intro screen="intro"></ff-intro>
      <ff-opening-menu flex screen="openingMenu"></ff-opening-menu>
      <ff-char-select flex screen="charSelect"
        party="[[ party ]]"
        char-index="[[ charIndex ]]"
        on-ff-char-class-done="_onCharClassSelected"></ff-char-select>
      <ff-enter-name flex screen="enterName"
        on-ff-char-name-done="_onCharNameEntered"></ff-enter-name>
      <ff-map-screen flex screen="map"
        id="mapScreen"
        char-class="[[ firstCharClass ]]"
        ship-position="[[ game.shipPosition ]]"
        starting="[[ starting ]]"
        transition="[[ game.mapPosition ]]"
        transports="[[ game.transports ]]"
        vehicle="[[ game.vehicle ]]"
        world-map-position="[[ game.worldMapPosition ]]"
        on-ff-enter-shop="_onEnterShop"
        on-ff-save-world-map-position="_onSaveWorldMapPosition"
        on-ff-vehicle-change="_onVehicleChange"></ff-map-screen>
      <ff-shop-screen flex screen="shop"
        id="shopScreen"
        shop="[[ shop ]]"
        shop-items="[[ shopInventory ]]"
        party="[[ party ]]"
        char-inventory-key="[[ _charInventoryKey ]]"
        gold="{{ game.gold }}"
        on-ff-purchase="_onPurchase"
        on-ff-exit-shop="_onExitShop"></ff-shop-screen>
    </div>
    -->
  </template>

  <script>
    class AppElement extends ReduxMixin(Polymer.Element) {
      static get is() { return 'ff-app'; }

      static get properties() {
        return {
          screen: {
            statePath: 'screen',
            type: String
          }
        };
      }
    }

    customElements.define(AppElement.is, AppElement);
  </script>
</dom-module>
