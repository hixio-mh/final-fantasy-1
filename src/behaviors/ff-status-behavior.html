<link rel="import" href="ff-util-behavior.html">

<script>
(function(scope) {
  scope.FF = scope.FF || {};

  scope.FF.StatusBehaviorImpl = {
    properties: {
      AllStatusButDead: {
        readonly: true,
        type: Array,
        value: function() {
          return [];
        }
      },

      Status: {
        readonly: true,
        type: Array,
        value: function() {
          return [];
        }
      },

      StatusById: {
        readonly: true,
        type: Object,
        value: function() {
          return {};
        }
      }
    },

    ready: function() {
      this._status('DEAD', { label: 'dead' });

      this._status('POISON', {
        label: 'Poisoned',
        actionable: true,
        battleText: 'posion',
        shrunkText: true,
        critical: true
      });

      this._status('MUTE', {
        label: 'Silenced',
        actionable: true,
        battleText: 'Mute'
      });

      this._status('BLIND', {
        label: 'Darkness',
        actionable: true,
        battleText: 'Dark'
      });

      this._status('SLEEP', {
        label: 'Asleep',
        battleText: 'asleep',
        shrunkText: true,
        critical: true
      });

      this._status('PARALYSIS', {
        label: 'Paralyzed',
        battleText: 'Stun',
        critical: true
      });

      this._status('STONE', {
        label: 'Petrified',
        battleText: 'stone',
        shrunkText: true
      });

      this._status('CONFUSE', { label: 'Confused' });

      this.StatusById = this._objectify(this.Status, 'id');

      this.AllStatusButDead = [].concat(this.Status);
      this.AllStatusButDead.shift();
    },

    _status: function(id, data) {
      this.Status.push(Object.assign({}, {id:id}, data));
    }
  };

  scope.FF.StatusBehavior = [
    scope.FF.UtilBehavior,
    scope.FF.StatusBehaviorImpl
  ];

}(window));
</script>