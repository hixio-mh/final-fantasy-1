<link rel="import" href="ff-util-behavior.html">
<link rel="import" href="ff-char-class-behavior.html">
<link rel="import" href="ff-element-behavior.html">
<link rel="import" href="ff-monster-behavior.html">

<script>
(function(scope) {
  scope.FF = scope.FF || {};

  scope.FF.WeaponBehaviorImpl = {
    properties: {
      Weapons: {
        readonly: true,
        type: Array,
        value: function() {
          return [];
        }
      },
      WeaponsByName: {
        readonly: true,
        type: Object,
        value: function() {
          return {};
        }
      }
    },

    ready: function() {
      this._createAxes();
      this._createHammers();
      this._createKnives();
      this._createNunchucks();
      this._createStaves();
      this._createSwords();

      this.WeaponsByName = this._objectify(this.Weapons, 'name');
    },

    _createAxes: function() {
      var type = 'axe';
      this._weapon(type, {
        name:"Hand[A]",desc:"Hand", price:550,
        ui:{cssClasses:"hand axe", splash:"grey"},
        stats:{attack:16,hit:5,crit:3,index:7},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja]});

      this._weapon(type, {
        name:"Great[A]",desc:"Great", // TODO need price
        ui:{cssClasses:"great axe", splash:"pink"},
        stats:{attack:22,hit:5,crit:3,index:14},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja]});

      this._weapon(type, {
        name:"Silver[A]",desc:"Silver",price:4500,
        ui:{cssClasses:"silver axe", splash:"turquoise"},
        stats:{attack:25,hit:10,crit:4,index:19},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja]});

      this._weapon(type, {
        name:"Light[A]",desc:"Light",price:10000,
        ui:{cssClasses:"light axe", splash:"purple"},
        stats:{attack:28,hit:15,crit:3,index:29},
        special:{spell:"HRM2"},
        monsterTypes:[this.MonsterType.Undead],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja]});
    },

    _createHammers: function() {
      var type = 'hammer';
      this._weapon(type, {
        name:"Iron[H]",desc:"Iron",price:10,
        ui:{cssClasses:"iron hammer", splash:"orange"},
        stats:{attack:9,hit:0,crit:1,index:5},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.WhiteMage, this.CharClass.WhiteWizard]});

      this._weapon(type, {
        name:"Silver[H]",desc:"Silver",price:2500,
        ui:{cssClasses:"silver hammer", splash:"turquoise"},
        stats:{attack:12,hit:5,crit:1,index:18},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.WhiteMage, this.CharClass.WhiteWizard]});

      this._weapon(type, {
        name:"Thor[H]",desc:"Thor",price:40000,
        ui:{cssClasses:"thor hammer", splash:"magenta"},
        stats:{attack:18,hit:15,crit:1,index:36},
        special:{spell:"LIT2"},
        allowedClasses:[
          this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.WhiteWizard]});
    },

    _createKnives: function() {
      var type = 'knife';
      this._weapon(type, {
        name:"Small[K]",desc:"Small",price:5,
        ui:{cssClasses:"small dagger", splash:"grey"},
        stats:{attack:5,hit:10,crit:5,index:2},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard,
          this.CharClass.BlackMage, this.CharClass.BlackWizard]});

      this._weapon(type, {
        name:"Large[K]",desc:"Large",price:175,
        ui:{cssClasses:"large dagger", splash:"grey"},
        stats:{attack:7,hit:10,crit:5,index:10},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard,
          this.CharClass.BlackMage, this.CharClass.BlackWizard]});

      this._weapon(type, {
        name:"Silver[K]",desc:"Silver",price:800,
        ui:{cssClasses:"silver dagger", splash:"turquoise"},
        stats:{attack:10,hit:15,crit:5,index:16},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard,
          this.CharClass.BlackMage, this.CharClass.BlackWizard]});

      this._weapon(type, {
        name:"CatClaw",desc:"CatClaw",price:65000,textOnly:true,
        ui:{cssClasses:"catclaw", splash:"turquoise"},
        stats:{attack:22,hit:35,crit:5,index:35},
        allowedClasses:[
          this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedWizard,
          this.CharClass.BlackWizard]});
    },

    _createNunchucks: function() {
      var type = 'nunchucks';
      this._weapon(type, {
        name:"Wooden[N]",desc:"Wooden",price:10,
        ui:{cssClasses:"wooden nunchucks",splash:"orange"},
        stats:{attack:12,hit:0,crit:10,index:1},
        allowedClasses:[
          this.CharClass.Ninja,
          this.CharClass.Blackbelt, this.CharClass.Master]});

      this._weapon(type, {
        name:"Iron[N]",desc:"Iron",price:200,
        ui:{cssClasses:"iron nunchucks", splash:"grey"},
        stats:{attack:16,hit:0,crit:10,index:9},
        allowedClasses:[
          this.CharClass.Ninja,
          this.CharClass.Blackbelt, this.CharClass.Master]});
    },

    _createStaves: function() {
      var type = 'staff';
      this._weapon(type, {
        name:"Wooden[R]",desc:"Wooden",price:5,
        ui:{cssClasses:"wooden staff", splash:"orange"},
        stats:{attack:6,hit:0,crit:1,index:3},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.Blackbelt, this.CharClass.Master,
          this.CharClass.RedMage, this.CharClass.RedWizard,
          this.CharClass.WhiteMage, this.CharClass.WhiteWizard,
          this.CharClass.BlackMage, this.CharClass.BlackWizard]});

      this._weapon('rod', {
        name:"Iron[S]",desc:"Iron",price:200,
        ui:{cssClasses:"iron staff", splash:"grey"},
        stats:{attack:14,hit:0,crit:1,index:11},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.Blackbelt, this.CharClass.Master]});

      this._weapon(type, {
        name:"Power[R]",desc:"Power",price:12345,
        ui:{cssClasses:"power staff", splash:"light green"},
        stats:{attack:12,hit:0,crit:1,index:28},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.Blackbelt, this.CharClass.Master,
          this.CharClass.WhiteMage, this.CharClass.WhiteWizard,
          this.CharClass.BlackMage, this.CharClass.BlackWizard]});

      this._weapon(type, {
        name:"Heal[R]",desc:"Heal",price:12500,
        ui:{cssClasses:"heal staff", splash:"blue"},
        stats:{attack:6,hit:0,crit:1,index:30},
        special:{spell:"HEAL"},
        allowedClasses:[
          this.CharClass.Ninja,
          this.CharClass.WhiteMage,
          this.CharClass.WhiteWizard]});

      this._weapon(type, {
        name:"Mage[R]",desc:"Mage",price:25000,
        ui:{cssClasses:"mage staff", splash:"pink"},
        stats:{attack:12,hit:10,crit:1,index:31},
        special:{spell:"FIR2"},
        allowedClasses:[
          this.CharClass.Ninja,
          this.CharClass.BlackMage,
          this.CharClass.BlackWizard]});

      this._weapon(type, {
        name:"Wizard[R]",desc:"Wizard",price:50000,
        ui:{cssClasses:"wizard staff", splash:"turquoise"},
        stats:{attack:15,hit:15,crit:1,index:33},
        special:{spell:"CONF"},
        allowedClasses:[
          this.CharClass.BlackWizard]});
    },

    _createSwords: function() {
      var type = 'sword';
      this._weapon(type, {
        name:"Rapier",desc:"Rapier",price:10,textOnly:true,
        ui:{cssClasses:"rapier", splash:"grey"},
        stats:{attack:9,hit:5,crit:10,index:4},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Short[S]",desc:"Short", price:550,
        ui:{cssClasses:"short sword", splash:"grey"},
        stats:{attack:15,hit:10,crit:5,index:6},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Scimtar",desc:"Scimtar",price:200,textOnly:true,
        ui:{cssClasses:"scimitar", splash:"sea green"},
        stats:{attack:10,hit:10,crit:5,index:8},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Sabre",desc:"Sabre",price:450,textOnly:true,
        ui:{cssClasses:"saber", splash:"grey"},
        stats:{attack:13,hit:5,crit:10,index:12},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Long[S]",desc:"Long",price:3000,
        ui:{cssClasses:"long sword", splash:"grey"},
        stats:{attack:20,hit:10,crit:5,index:13},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Falchon",desc:"Falchon",price:450,textOnly:true,
        ui:{cssClasses:"falchion", splash:"grey"},
        stats:{attack:15,hit:10,crit:5,index:15},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Silver[S]",desc:"Silver",price:4000,
        ui:{cssClasses:"silver sword", splash:"turquoise"},
        stats:{attack:23,hit:15,crit:5,index:17},
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Flame[S]",desc:"Flame",price:10000,
        ui:{cssClasses:"flame sword", splash:"red"},
        stats:{attack:26,hit:20,crit:5,index:20},
        elements:[this.Element.Fire],
        monsterTypes:[this.MonsterType.Undead, this.MonsterType.Regenerative],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Ice[S]",desc:"Ice",price:15000,
        ui:{cssClasses:"ice sword", splash:"blue"},
        stats:{attack:29,hit:25,crit:5,index:21},
        elements:[this.Element.Ice],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Dragon[S]",desc:"Dragon",price:8000,
        ui:{cssClasses:"dragon sword", splash:"sea green"},
        stats:{attack:19,hit:15,crit:10,index:22},
        monsterTypes:[this.MonsterType.Dragon],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Giant[S]",desc:"Giant",price:8000,
        ui:{cssClasses:"giant sword", splash:"royal blue"},
        stats:{attack:21,hit:20,crit:5,index:23},
        monsterTypes:[this.MonsterType.Giant],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Sun[S]",desc:"Sun",price:20000,
        ui:{cssClasses:"sun sword", splash:"orange"},
        stats:{attack:32,hit:30,crit:5,index:24},
        monsterTypes:[this.MonsterType.Undead],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Coral[S]",desc:"Coral",price:8000,
        ui:{cssClasses:"coral sword", splash:"pink"},
        stats:{attack:19,hit:15,crit:10,index:25},
        monsterTypes:[this.MonsterType.Aquatic],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Were[S]",desc:"Were",price:6000,
        ui:{cssClasses:"were sword", splash:"magenta"},
        stats:{attack:18,hit:15,crit:5,index:26},
        monsterTypes:[this.MonsterType.Were],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Rune[S]",desc:"Rune",price:5000,
        ui:{cssClasses:"rune sword", splash:"purple"},
        stats:{attack:18,hit:15,crit:5,index:27},
        monsterTypes:[this.MonsterType.Magical, this.MonsterType.Mage],
        allowedClasses:[
          this.CharClass.Fighter, this.CharClass.Knight,
          this.CharClass.Thief, this.CharClass.Ninja,
          this.CharClass.RedMage, this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Defense",desc:"Defense",price:40000,textOnly:true,
        ui:{cssClasses:"defense", splash:"orange"},
        stats:{attack:30,hit:35,crit:5,index:32},
        special:{spell:"RUSE"},
        allowedClasses:[
          this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Vorpal",desc:"Vorpal",price:30000,textOnly:true,
        ui:{cssClasses:"vorpal", splash:"blue"},
        stats:{attack:24,hit:25,crit:30,index:34},
        allowedClasses:[
          this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Bane[S]",desc:"Bane",price:60000,
        ui:{cssClasses:"bane sword", splash:"royal blue"},
        stats:{attack:22,hit:20,crit:10,index:37},
        special:{spell:"BANE"},
        allowedClasses:[
          this.CharClass.Knight,
          this.CharClass.Ninja,
          this.CharClass.RedWizard]});

      this._weapon(type, {
        name:"Katana",desc:"Katana",price:60000,textOnly:true,
        ui:{cssClasses:"katana", splash:"orange"},
        stats:{attack:33,hit:35,crit:30,index:38},
        allowedClasses:[this.CharClass.Ninja]});

      this._weapon(type, {
        name:"Xcalber",desc:"Xcalber",price:60000,textOnly:true,
        ui:{cssClasses:"excalibur", splash:"gold"},
        stats:{attack:45,hit:35,crit:5,index:39},
        elements: this.AllElements,
        monsterTypes: this.AllMonsterTypes,
        allowedClasses:[this.CharClass.Knight]});

      this._weapon(type, {
        name:"Masmune",desc:"Masmune",price:60000,textOnly:true,
        ui:{cssClasses:"masamune", splash:"grey"},
        stats:{attack:56,hit:50,crit:10,index:40},
        allowedClasses: this.AllCharClasses});
    },

    _weapon: function(type, data) {
      var weapon = Object.assign({}, data, {
        hasElement: this._objectify(data.elements),
        strongAgainst: this._objectify(data.monsterTypes),
        type: type,
        usableBy: this._objectify(data.allowedClasses)
      });
      this.Weapons.push(weapon);
    }
  };

  scope.FF.WeaponBehavior = [
    scope.FF.UtilBehavior,
    scope.FF.CharClassBehavior,
    scope.FF.ElementBehavior,
    scope.FF.MonsterBehavior,
    scope.FF.WeaponBehaviorImpl
  ];

}(window));
</script>